# GPIO.add_event_detect(app.left.limit_top_pin,
#     GPIO.BOTH,
#     callback=lambda x: handle_limit_switch_event(app.left),
#     bouncetime=500)

# GPIO.add_event_detect(app.right.limit_top_pin,
#     GPIO.BOTH,
#     callback=lambda x: handle_limit_switch_event(app.right),
#     bouncetime=500)



scale = lambda x, OldMin, OldMax, NewMin, NewMax: (((x - OldMin) * (NewMax - NewMin)) / (OldMax - OldMin)) + NewMin



import gevent
from settings import *
from ABElectronics_ADCPi import ADCPi
ADC = ADCPi(SENSOR_CHANNEL_CODE.left, SENSOR_CHANNEL_CODE.right, SENSOR_SAMPLE_RATE)

weights(ADC)



import gevent
import RPi.GPIO as GPIO
GPIO.setmode(GPIO.BCM)
GPIO.setup(17, GPIO.IN)
GPIO.setup(22, GPIO.IN)


while 1:
    print GPIO.input(17),
    print GPIO.input(22)
    gevent.sleep(.5)


from painserver import *
_=[pulse('left') for i in range(100)]

